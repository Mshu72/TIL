`NVL`は、Oracleデータベースで使用されるSQL関数の1つで、指定した列や式が`NULL`の場合に代替値を返すために使用されます。

---

### **構文**
```sql
NVL(expression1, expression2)
```

### **説明**
- `expression1`:
  - チェック対象の値（列名、式、または値）。
  - この値が`NULL`の場合、`expression2`が返されます。
- `expression2`:
  - `expression1`が`NULL`の場合に代わりに返される値。
  - この値は`expression1`と同じデータ型である必要があります。

---

### **動作例**

#### **1. 基本的な使用例**
テーブル名: `EMPLOYEES`

| EMPLOYEE_ID | SALARY  | BONUS    |
|-------------|---------|----------|
| 1           | 5000    | 1000     |
| 2           | 4500    | NULL     |
| 3           | 6000    | 1500     |

クエリ：
```sql
SELECT 
    EMPLOYEE_ID,
    NVL(BONUS, 0) AS FINAL_BONUS
FROM 
    EMPLOYEES;
```

結果：
| EMPLOYEE_ID | FINAL_BONUS |
|-------------|-------------|
| 1           | 1000        |
| 2           | 0           |
| 3           | 1500        |

ここでは、`BONUS`列が`NULL`の場合に`0`を返すようにしています。

---

#### **2. 式と併用**
```sql
SELECT 
    EMPLOYEE_ID,
    SALARY + NVL(BONUS, 0) AS TOTAL_COMPENSATION
FROM 
    EMPLOYEES;
```

結果：
| EMPLOYEE_ID | TOTAL_COMPENSATION |
|-------------|--------------------|
| 1           | 6000              |
| 2           | 4500              |
| 3           | 7500              |

ここでは、`BONUS`が`NULL`の場合に0を加算し、それ以外の場合はそのまま加算しています。

---

### **特徴**
1. **NULL処理**:
   - `NVL`は、データベース内の`NULL`値を代替値で置き換えるために使用されます。
   - 特に、レポートや計算時に`NULL`値が問題を引き起こすのを防ぐために便利です。

2. **データ型の互換性**:
   - `expression1`と`expression2`のデータ型が異なる場合、Oracleは自動的に型変換を行おうとしますが、明示的に一致させておくのが良い習慣です。

3. **Oracle専用**:
   - `NVL`はOracleデータベースに特化した関数であり、他のデータベースでは使用できません（他のDBMSでは`COALESCE`などを使用）。

---

### **NVLとCOALESCEの比較**
| 特徴                | NVL                             | COALESCE                       |
|---------------------|----------------------------------|--------------------------------|
| **DBサポート**      | Oracle限定                      | 標準SQL（ほとんどのDBMSで利用可） |
| **引数の数**        | 2つのみ                         | 複数引数を許可                 |
| **評価順序**        | 全ての引数を評価                | 最初に非NULLが見つかった時点で評価終了 |
| **柔軟性**          | 制限あり（2つの値のみ）          | 柔軟性が高い                  |

---

### **実用的な用途**
1. **NULL値の置き換え**:
   - カラムに`NULL`値が含まれる場合に、デフォルト値を返す。
   - 例: ボーナスが`NULL`の場合、0を設定する。

2. **計算式での使用**:
   - NULL値が計算結果に影響しないように処理する。
   - 例: 合計金額計算の際に、NULL値を0に置き換える。

3. **レポート作成**:
   - レポート出力時に、NULLを特定の文字列（例: "N/A"）や数値に置き換える。

---

もし具体的な例や応用についてさらに詳しく知りたい場合は教えてください！
