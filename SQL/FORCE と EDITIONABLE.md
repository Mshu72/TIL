
Oracle Database で `VIEW` を作成する際に使えるオプション `FORCE` と `EDITIONABLE` の意味と効果について解説します。

---

##  結論（ざっくり要約）

| オプション         | 効果（何が起こる？）                                    |
|--------------------|-----------------------------------------------------------|
| `FORCE`            | 参照先の表やビューが存在しなくてもビューを作成可能       |
| `EDITIONABLE`      | **Edition-Based Redefinition（EBR）** に対応したビューになる |

---

##  それぞれの意味と効果

---

###  `FORCE` オプション

####  効果：
- 通常 `CREATE VIEW` は、参照するテーブルやビューが存在していないとエラーになります。
- しかし `FORCE` を付けると、**定義内にあるテーブル・ビューが未存在でも**ビューを作成できます。

####  使いどころ：
- テーブルはあとで作成される予定だが、先にビューを定義しておきたいとき。
- ビルド順に依存関係がある複雑なシステムで便利です。

####  注意：
- 作成はできても **そのまま使おうとするとエラー** になります（定義エラー状態）。

---

###  `EDITIONABLE` オプション

####  効果：
- ビューを **エディション対応（Edition-Based Redefinition対応）** にします。
- Oracle 11gR2 以降で導入された機能で、**本番稼働中でも安全にアプリケーションを再定義・切替** できます。

####  具体的には：
- `EDITIONABLE` なビューは、**エディション単位で定義を持つ**ことができ、エディションを切り替えることで **新旧の定義を共存** できます。

#### 🛠️ 使う場面：
- **オンラインでのアプリケーション・デプロイ**
- ダウンタイムなしでのビューやパッケージのバージョン切り替え

---

##  使用例

```sql
CREATE OR REPLACE FORCE EDITIONABLE VIEW my_view AS
SELECT * FROM future_table;
```

- `future_table` がまだ存在していなくても `my_view` を作成できる
- さらにこのビューはエディション対応になる

---

##  補足：`NONEDITIONABLE` もある

- `NONEDITIONABLE` を使えば、エディションに関係なく 1つの定義を全体で共有します。
- 古いシステムではこちらが使われている場合もあります。

---

##  まとめ

| オプション      | 意味と効果                                           |
|-----------------|------------------------------------------------------|
| `FORCE`         | 参照先が未定義でもビュー作成可（エラーを抑制）       |
| `EDITIONABLE`   | エディション対応ビューになる（EBRを活用可能）       |
| `NONEDITIONABLE`| エディション非対応ビューになる（従来通り）          |

---

##  参考資料

- Oracle公式ドキュメント:  
  [Oracle® Database SQL Language Reference](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/CREATE-VIEW.html)

