**CSS-in-JS（シーエスエス・イン・ジェイエス）** について解説します!

---

## CSS-in-JSとは？

**CSS-in-JS**とは、その名の通り：

> **「CSSをJavaScript内で記述・管理する手法」** のことです。

通常は `.css` ファイルに書いていたスタイルを、**JavaScriptやTypeScriptのコード内に書いて**、  
**コンポーネント単位でスタイルを閉じ込めて管理できる**ようにしたのがCSS-in-JSの発想です。

---

## なぜCSS-in-JSが生まれたの？

従来のCSSには以下のような悩みがありました：

| 従来CSSの問題 | 内容 |
|---------------|------|
| グローバルスコープ | スタイルが全体に影響しやすい（上書き事故） |
| クラス名の衝突 | 同じ名前が複数の場所に存在してしまうことがある |
| 動的スタイルが書きにくい | JavaScriptの値で柔軟にスタイルを変えるのが難しい |
| コンポーネント単位で分離できない | スタイルとロジックが別ファイルで管理される |

→ これらを解決し、**スコープが明確で、JavaScriptとスタイルを一体化できる方法**としてCSS-in-JSが登場しました。

---

## CSS-in-JSでできること

- JavaScriptの変数やpropsを使ってスタイルを変更できる
- 条件付きでスタイル切り替え可能
- コンポーネント単位でスタイルを閉じ込められる
- クラス名の衝突なし（ハッシュ化される）
- TypeScriptとの相性も◎

---

## 主なCSS-in-JSライブラリ

| ライブラリ名 | 特徴・ポイント |
|--------------|----------------|
| **Emotion** | 軽量・柔軟。`styled`と`css`両対応。パフォーマンスも良好。 |
| **styled-components** | 一番有名。Reactとの相性抜群で初心者にも人気。 |
| **JSS** | Material UIが昔使っていた。今はあまり主流ではない。 |
| **Stitches** | 型安全に強い。TypeScriptとの親和性を重視する人におすすめ。 |
| **Vanilla Extract** | 静的CSSファイルを生成する。ビルド時に最適化されて高速。 |
| **Linaria** | 「Zero-runtime」系。JSに書くけど実際はCSSとしてビルド。 |
| **Astro scoped styles** | Astroという静的サイトジェネレータでのCSS-in-JS対応。 |

---

## 各ライブラリの特徴ざっくり比較

| ライブラリ        | 実行時 or ビルド時 | 型安全 | 学習コスト | 人気度 |
|------------------|---------------------|--------|------------|--------|
| Emotion           | 実行時               | ◯      | 低         | 高     |
| styled-components | 実行時               | △      | 低         | 超高   |
| Stitches          | 実行時               | ◎      | 中         | 中     |
| Vanilla Extract   | ビルド時             | ◎      | 中〜高     | 中     |
| Linaria           | ビルド時             | ◯      | 中         | やや低 |

---

## どれを選べばいい？

| 状況 | おすすめ |
|------|----------|
| React初心者・簡単に始めたい | `styled-components` or `Emotion` |
| TypeScriptとの相性を重視 | `Stitches` or `Vanilla Extract` |
| ランタイムを減らしたい（速度重視） | `Vanilla Extract` or `Linaria` |
| コンポーネント単位でスタイル管理したい | 全部OK（CSS-in-JSの強み） |

---

## まとめ

> CSS-in-JSは「**JavaScriptでスタイルを直接記述して、柔軟に管理するための手法**」です。  
> 特に**ReactやNext.jsとの組み合わせで威力を発揮**します。

