Thymeleaf（タイムリーフ）は、JavaベースのWebアプリケーションでよく使われるテンプレートエンジンです。Spring Frameworkと組み合わせて使われることが多く、HTMLやXMLなどのテンプレートファイルにデータを埋め込み、動的なWebページを生成するのに便利です。

### 1. テンプレートエンジンとは
テンプレートエンジンは、HTMLファイルの中に変数やロジック（if文やループなど）を埋め込み、動的に内容を変化させるためのツールです。Thymeleafを使うと、Javaコード内で処理したデータをHTMLページに埋め込んで表示できます。

### 2. Thymeleafの特徴
Thymeleafは、以下のような特徴があります：

- **自然なHTMLのテンプレート**：HTMLファイルがThymeleafを使ったテンプレートとしても、普通のHTMLファイルとしても閲覧可能です。つまり、デザイン段階でブラウザで確認でき、開発者とデザイナーの協力がしやすい点が特徴です。
- **Spring Bootと統合が簡単**：Spring Bootを使ったWebアプリケーションでの設定が簡単で、直感的に使いやすいです。
- **豊富な属性**：`th:text`、`th:href`、`th:if`などのThymeleaf独自の属性を使い、HTML要素にデータやロジックを簡単に埋め込むことができます。

### 3. 基本的な使い方
Thymeleafを使うときは、HTMLの要素に専用の属性を追加していきます。以下は基本的な例です：

#### th:text
`th:text`は、Java側で渡されたデータをHTMLのテキストとして表示するために使います。

```html
<p th:text="${message}">ここにメッセージが表示されます</p>
```

上記のコードでは、Java側から渡された`message`という変数の内容が`<p>`タグ内に表示されます。

#### th:if と th:each
条件分岐やループを行う際にもThymeleafは便利です。

```html
<p th:if="${user != null}">ようこそ、<span th:text="${user.name}">ユーザー名</span>さん！</p>

<ul>
  <li th:each="item : ${items}" th:text="${item.name}">アイテム名</li>
</ul>
```

- `th:if`：Javaで渡した変数`user`が`null`でない場合にメッセージを表示します。
- `th:each`：リスト（`items`）の各要素にアクセスし、アイテム名を表示します。

### 4. Thymeleafのメリット
- **見やすいHTML**：Thymeleafを使ったテンプレートは通常のHTMLとほぼ同じ見た目のため、メンテナンスがしやすいです。
- **デザイナーと開発者の連携がスムーズ**：HTMLをそのまま編集・確認できるので、デザイナーも実際のページの見た目をブラウザで確認できます。
- **簡単な動的ページ作成**：Springと連携することで、簡単にデータをページに反映でき、ユーザーごとに違う内容を動的に表示するページが作りやすいです。

### 5. よく使われるThymeleaf属性
| 属性       | 説明 |
|------------|------------------------------------------------|
| `th:text`  | テキストを動的に表示する                         |
| `th:if`    | 条件分岐                                       |
| `th:each`  | ループ処理（配列やリストを使う）               |
| `th:href`  | リンクを動的に設定する                          |
| `th:src`   | 画像やスクリプトのソースURLを動的に設定する     |
| `th:action`| フォームの送信先URLを動的に設定する             |

### 6. 使用の流れ
1. **HTMLテンプレート作成**：HTMLにThymeleaf属性を追加し、動的に変わる箇所を設定します。
2. **コントローラーでデータを渡す**：Javaのコントローラーで、HTMLテンプレートに渡すデータを用意し、モデルに詰めて返します。
3. **レンダリング**：ThymeleafがモデルのデータをHTMLに埋め込み、ブラウザに表示されるWebページを生成します。

Thymeleafは簡単な構文でわかりやすく、Spring Bootを使ったWebアプリケーション開発をスムーズに進めるのに非常に役立つテンプレートエンジンです。
